(this.webpackJsonplios=this.webpackJsonplios||[]).push([[1],{137:function(e,t){},159:function(e,t){},274:function(e){e.exports=JSON.parse('{"id":"QmVivjNxfi2R1ooX8CTMWyei9JRhHcngevE9Pw585zJj99","privKey":"CAAS3wQwggJbAgEAAoGBAKVGjFeuLZcSwHegHstMx+anJ1f/mSARgMuHyXgZNIqieukbSJ8IkbzGqouvmSXHVDsWOFeMPFWrN0j95NwfMbhupOh39zN+5bLMqS/x82C1XEvVrVRphAVYxc595HTeKk6zsVkla/J97JGqZQxgGOZANv4H9mm7IEkpPO9Ld/kZAgMBAAECgYAPQd3+0iN/SMnfwTZWijYCAvhM1VmrbjI3l8dvgNQq4Cj8j/o6RC5AAQ8JaiJ3LFmIQtrcqiN/vRiTcmzILVEHkZ7hLUgEDbw1kbsy/M5dNAdO352nxIrq+xp8o5mm1Fk4U2xABFo3q+qA92yrKDME80Ug956HeFF15HFDs+wc6QJBANUXr56vzO9yIcEzl9+qnAukoWxLSDoDxnK+gqAD9CzdqaaGH5zq5KCcX6ivObT+JwDtmxAQSBt0uditz+AblD8CQQDGjgjbmRhKNursHUvn6br/rY6HqFCkLJGUTN8drJuFCWvmeCzl7HI6T+dzzerV1Y6oj4iC9td0IcbADMoQZLynAkEAmf5ZAwOmxS+kpxti2NdRl7Rsl3c8Bfjuc8OrYHoa/kVeMaJhvCOf/1WiZ6PhvyOgCjKryYsKoRTUrXrGa/1iPwJAJWIKkuXhJ9/tHSVq7DAacBcKNcpf3Hkzs5tBisG7yjF66jqIIYYB/66ZojkL1NTPdjcH+bhl2kydsfz2cl21EwI/C8cs300eZTG21li8s9eqYqAbSa0lfI4FmO+/8h0mkqTH18EiCUlf1E4/jher4wRj7/B45/D6ZWarxe043miU","pubKey":"CAASogEwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAKVGjFeuLZcSwHegHstMx+anJ1f/mSARgMuHyXgZNIqieukbSJ8IkbzGqouvmSXHVDsWOFeMPFWrN0j95NwfMbhupOh39zN+5bLMqS/x82C1XEvVrVRphAVYxc595HTeKk6zsVkla/J97JGqZQxgGOZANv4H9mm7IEkpPO9Ld/kZAgMBAAE="}')},279:function(e,t,n){e.exports=n(644)},285:function(e,t,n){var r={"./ion-action-sheet.entry.js":[646,5],"./ion-alert.entry.js":[647,6],"./ion-app_8.entry.js":[648,7],"./ion-avatar_3.entry.js":[649,18],"./ion-back-button.entry.js":[650,19],"./ion-backdrop.entry.js":[651,43],"./ion-button_2.entry.js":[652,20],"./ion-card_5.entry.js":[653,21],"./ion-checkbox.entry.js":[654,22],"./ion-chip.entry.js":[655,23],"./ion-col_3.entry.js":[656,44],"./ion-datetime_3.entry.js":[657,10],"./ion-fab_3.entry.js":[658,24],"./ion-img.entry.js":[659,45],"./ion-infinite-scroll_2.entry.js":[660,46],"./ion-input.entry.js":[661,25],"./ion-item-option_3.entry.js":[662,26],"./ion-item_8.entry.js":[663,27],"./ion-loading.entry.js":[664,28],"./ion-menu_3.entry.js":[665,29],"./ion-modal.entry.js":[666,8],"./ion-nav_2.entry.js":[667,15],"./ion-popover.entry.js":[668,9],"./ion-progress-bar.entry.js":[669,30],"./ion-radio_2.entry.js":[670,31],"./ion-range.entry.js":[671,32],"./ion-refresher_2.entry.js":[672,11],"./ion-reorder_2.entry.js":[673,17],"./ion-ripple-effect.entry.js":[674,47],"./ion-route_4.entry.js":[675,33],"./ion-searchbar.entry.js":[676,34],"./ion-segment_2.entry.js":[677,35],"./ion-select_3.entry.js":[678,36],"./ion-slide_2.entry.js":[679,48],"./ion-spinner.entry.js":[680,13],"./ion-split-pane.entry.js":[681,49],"./ion-tab-bar_2.entry.js":[682,37],"./ion-tab_2.entry.js":[683,16],"./ion-text.entry.js":[684,38],"./ion-textarea.entry.js":[685,39],"./ion-toast.entry.js":[686,40],"./ion-toggle.entry.js":[687,12],"./ion-virtual-scroll.entry.js":[688,50]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=285,e.exports=a},287:function(e,t,n){var r={"./ion-icon.entry.js":[692,57]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=287,e.exports=a},302:function(e,t,n){},303:function(e,t,n){},382:function(e,t){},383:function(e,t){},413:function(e,t){},523:function(e,t){},556:function(e,t){},558:function(e,t){},590:function(e,t){},644:function(e,t,n){"use strict";n.r(t);var r,a=n(1),o=n.n(a),s=n(101),c=n.n(s),i=n(2),u=n.n(i),l=n(17),p=n(52),m=n(105),f=n(104),j=n(34),b=n(54),d=n(9),y=n(272),E=n(178),v=n(275),h=(n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(51)),g=n.n(h),k=n(274),x=function(){var e=o.a.useContext(C);return o.a.createElement(d.b,null,o.a.createElement(d.m,null,o.a.createElement(d.k,null,"Peers")),o.a.createElement(d.e,null,e.state.peers.map((function(e){return o.a.createElement(d.c,{key:e},o.a.createElement(d.d,{key:e+"1"},"Peer ID: ",e))}))))},w=function(){var e=o.a.useContext(C);return o.a.createElement(d.b,null,o.a.createElement(d.m,null,o.a.createElement(d.k,null,"Messages")),o.a.createElement(d.e,null,e.state.messages.map((function(e){return o.a.createElement(d.c,{key:e+Date.now()},o.a.createElement(d.d,{key:e+Date.now()+"1"},"Message: ",e))}))))},A=n(304),O=n(520),D=n(551),S=n(596).NOISE,N=n(29),M={modules:{transport:[O,D],connEncryption:[S],streamMuxer:[n(638)]},addresses:{listen:["/ip4/192.168.1.194/tcp/13579/wss/p2p-webrtc-star","/dns4/wrtc-star1.par.dwebops.pub/tcp/443/wss/p2p-webrtc-star","/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star"]}},_={peers:[],messages:[]},C=o.a.createContext({}),I=function(e,t){switch(console.log(e),console.log(t),t.type){case"ADD_PEER":if(e.peers.filter((function(e){return e===t.peerId})).length>0)return e;var n=Object(f.a)(e.peers);return n.push(t.peerId),Object(m.a)(Object(m.a)({},e),{},{peers:n});case"ADD_MESSAGE":var r=Object(f.a)(e.messages);return r.push(t.message),Object(m.a)(Object(m.a)({},e),{},{messages:r});default:return e}},J=function(){var e=o.a.useReducer(I,_),t=Object(p.a)(e,2),n=t[0],a=t[1],s=o.a.useState(!1),c=Object(p.a)(s,2),i=c[0],m=c[1],f=o.a.useState(!1),h=Object(p.a)(f,2),O=(h[0],h[1]),D=o.a.useState(!1),S=Object(p.a)(D,2),J=S[0],H=S[1],q=o.a.useState(""),Z=Object(p.a)(q,2),F=Z[0],G=Z[1],P=o.a.useState(""),z=Object(p.a)(P,2),B=z[0],R=z[1],V=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),!r){e.next=4;break}return e.next=4,r.stop();case 4:return e.next=6,N.createFromJSON(k);case 6:return t=e.sent,M.peerId=t,e.next=10,A.create(M);case 10:return(r=e.sent).connectionManager.on("peer:connect",(function(e){console.log("connected to: ",e.remotePeer.toB58String()),a({type:"ADD_PEER",peerId:e.remotePeer.toB58String()})})),e.next=14,r.handle("/libp2p/chat/1.0.0",function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.stream,console.log("Connected to someone!"),Q(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:return e.prev=14,e.next=17,r.start();case 17:G("Node started"),R("success"),H(!0),m(!0),O(!1),e.next=30;break;case 24:e.prev=24,e.t0=e.catch(14),console.log(e.t0),G("Could not start node.  Retrying"),R("warning"),H(!0);case 30:case"end":return e.stop()}}),e,null,[[14,24]])})));return function(){return e.apply(this,arguments)}}();function Q(e){g()(e.source,function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,o,s,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,e.prev=2,s=Object(j.a)(t);case 4:return e.next=6,s.next();case 6:return c=e.sent,n=c.done,e.next=10,c.value;case 10:if(i=e.sent,n){e.next=17;break}a({type:"ADD_MESSAGE",message:i.toString("utf8").replace("\n","")});case 14:n=!0,e.next=4;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),r=!0,o=e.t0;case 23:if(e.prev=23,e.prev=24,n||null==s.return){e.next=28;break}return e.next=28,s.return();case 28:if(e.prev=28,!r){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(23);case 33:case"end":return e.stop()}}),e,null,[[2,19,23,33],[24,,28,32]])})));return function(t){return e.apply(this,arguments)}}())}o.a.useEffect((function(){V()}),[]);var K={state:n,dispatch:a};return o.a.createElement(C.Provider,{value:K},o.a.createElement(d.a,null,o.a.createElement(y.a,null,o.a.createElement(d.j,null,o.a.createElement(d.g,null,o.a.createElement(b.b,{path:"/lios/peers",component:x,exact:!0}),o.a.createElement(b.b,{path:"/lios/messages",component:w,exact:!0}),o.a.createElement(b.b,{exact:!0,path:"/",render:function(){return o.a.createElement(b.a,{to:"/lios/peers"})}})),o.a.createElement(d.h,{slot:"bottom"},o.a.createElement(d.i,{tab:"tab1",href:"/lios/peers"},o.a.createElement(E.a,null),o.a.createElement(d.d,null,"Peers")),o.a.createElement(d.i,{tab:"tab2",href:"/lios/messages"},o.a.createElement(v.a,null),o.a.createElement(d.d,null,"Messages")),o.a.createElement(d.i,{onClick:function(){return V()}},o.a.createElement(E.b,null),o.a.createElement(d.d,null,"Reconnect"))),o.a.createElement(d.l,{isOpen:J,onDidDismiss:function(){return H(!1)},message:F,color:B,animated:!0,duration:3e3,position:"top"}))),!i&&o.a.createElement("div",{className:"lds-ripple"},o.a.createElement("div",null),o.a.createElement("div",null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[279,3,4]]]);
//# sourceMappingURL=main.45d552a4.chunk.js.map